{"id":492,"date":"2023-08-02T15:25:55","date_gmt":"2023-08-02T07:25:55","guid":{"rendered":"https:\/\/www.szuea.com\/?p=492"},"modified":"2023-08-02T15:25:59","modified_gmt":"2023-08-02T07:25:59","slug":"python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio","status":"publish","type":"post","link":"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/","title":{"rendered":"Python\u5b9e\u8df5\uff1aasyncio"},"content":{"rendered":"<p class=\"wp-block-paragraph \"><code>asyncio<\/code>&#30340;&#21407;&#29702;&#26159;&#22522;&#20110;&#20107;&#20214;&#24490;&#29615;&#21644;&#21327;&#31243;&#12290;&#20107;&#20214;&#24490;&#29615;&#36127;&#36131;&#35843;&#24230;&#21644;&#25191;&#34892;&#21327;&#31243;&#20219;&#21153;&#12290;&#24403;&#20107;&#20214;&#24490;&#29615;&#36816;&#34892;&#26102;&#65292;&#23427;&#20250;&#19981;&#26029;&#22320;&#36718;&#35810;&#24050;&#27880;&#20876;&#30340;&#21327;&#31243;&#20219;&#21153;&#65292;&#26816;&#26597;&#20219;&#21153;&#26159;&#21542;&#24050;&#32463;&#23436;&#25104;&#25110;&#32773;&#26159;&#21542;&#34987;&#38459;&#22622;&#12290;&#22914;&#26524;&#20219;&#21153;&#23436;&#25104;&#65292;&#20107;&#20214;&#24490;&#29615;&#20250;&#21796;&#37266;&#23427;&#24182;&#25191;&#34892;&#19979;&#19968;&#27493;&#25805;&#20316;&#12290;&#22914;&#26524;&#20219;&#21153;&#34987;&#38459;&#22622;&#65288;&#20363;&#22914;&#31561;&#24453;IO&#25805;&#20316;&#30340;&#23436;&#25104;&#65289;&#65292;&#20107;&#20214;&#24490;&#29615;&#20250;&#23558;&#25511;&#21046;&#26435;&#36716;&#31227;&#21040;&#20854;&#20182;&#27809;&#26377;&#34987;&#38459;&#22622;&#30340;&#20219;&#21153;&#19978;&#65292;&#20197;&#20415;&#24182;&#21457;&#25191;&#34892;&#12290;<\/p>\n\n\n<h5 class=\"wp-block-heading wp-block-heading\" id=\"asynicoe4b8ade4b880e4ba9be5b8b8e8a781e79a84e587bde695b0\">asynico&#20013;&#19968;&#20123;&#24120;&#35265;&#30340;&#20989;&#25968;<\/h5>\n\n\n<p class=\"wp-block-paragraph \">&#19979;&#38754;&#26159;<code>asyncio<\/code>&#20013;&#24120;&#29992;&#30340;&#20989;&#25968;&#21450;&#20854;&#21442;&#25968;&#30340;&#23454;&#20363;&#35814;&#35299;&#65306;<\/p>\n\n\n<ol style=\"\" class=\"wp-block-list \">\n<li><code>asyncio.run(main, *, debug=False)<\/code><\/li>\n<\/ol>\n\n\n<ul style=\"\" class=\"wp-block-list \">\n<li>\n<code>main<\/code>: &#35201;&#36816;&#34892;&#30340;&#21327;&#31243;&#20989;&#25968;&#25110;&#20219;&#21153;&#12290;<\/li>\n\n\n\n<li>\n<code>debug<\/code>(&#21487;&#36873;): &#25511;&#21046;&#26159;&#21542;&#21551;&#29992;&#35843;&#35797;&#27169;&#24335;&#65292;&#40664;&#35748;&#20026;False&#12290;<\/li>\n<\/ul>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"   import asyncio\n\n   async def main():\n       print(&quot;Hello, asyncio!&quot;)\n\n   asyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Hello, asyncio!<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">&#36825;&#20010;&#20989;&#25968;&#29992;&#26469;&#36816;&#34892;&#20027;&#21327;&#31243;&#25110;&#20219;&#21153;&#65292;&#24182;&#33258;&#21160;&#21019;&#24314;&#21644;&#20851;&#38381;&#20107;&#20214;&#24490;&#29615;&#12290;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;<code>main()<\/code>&#26159;&#35201;&#36816;&#34892;&#30340;&#21327;&#31243;&#20989;&#25968;&#65292;<code>asyncio.run()<\/code>&#20250;&#21019;&#24314;&#19968;&#20010;&#20107;&#20214;&#24490;&#29615;&#24182;&#36816;&#34892;<code>main()<\/code>&#65292;&#30452;&#21040;&#21327;&#31243;&#23436;&#25104;&#12290;<\/p>\n\n\n<ol start=\"2\" style=\"\" class=\"wp-block-list \">\n<li><code>asyncio.get_event_loop()<\/code><\/li>\n<\/ol>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"   import asyncio\n\n   def callback(n):\n       print(f&quot;Callback executed with {n}&quot;)\n\n   async def main():\n       print(&quot;Creating event loop...&quot;)\n       loop = asyncio.get_event_loop()\n       print(&quot;Scheduling callback...&quot;)\n       loop.call_later(2, callback, 42)\n       await asyncio.sleep(3)\n       print(&quot;Finished&quot;)\n\n   asyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">callback<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FFB86C; font-style: italic\">n<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FF79C6\">f<\/span><span style=\"color: #F1FA8C\">&quot;Callback executed with <\/span><span style=\"color: #BD93F9\">{<\/span><span style=\"color: #F8F8F2\">n<\/span><span style=\"color: #BD93F9\">}<\/span><span style=\"color: #F1FA8C\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Creating event loop...<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       loop <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> asyncio.get_event_loop()<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Scheduling callback...<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       loop.call_later(<\/span><span style=\"color: #BD93F9\">2<\/span><span style=\"color: #F8F8F2\">, callback, <\/span><span style=\"color: #BD93F9\">42<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">3<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Finished<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">&#36825;&#20010;&#20989;&#25968;&#29992;&#20110;&#33719;&#21462;&#24403;&#21069;&#25191;&#34892;&#19978;&#19979;&#25991;&#20013;&#30340;&#20107;&#20214;&#24490;&#29615;&#23545;&#35937;&#12290;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#20808;&#21019;&#24314;&#20102;&#19968;&#20010;&#20107;&#20214;&#24490;&#29615;&#65292;&#28982;&#21518;&#20351;&#29992;<code>call_later()<\/code>&#26041;&#27861;&#35843;&#24230;&#20102;&#19968;&#20010;&#22312;2&#31186;&#21518;&#25191;&#34892;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;<\/p>\n\n\n<ol start=\"3\" style=\"\" class=\"wp-block-list \">\n<li><code>asyncio.ensure_future(coro_or_fut)<\/code><\/li>\n<\/ol>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"   import asyncio\n\n   async def my_coroutine():\n       await asyncio.sleep(1)\n       return &quot;Coroutine completed&quot;\n\n   async def main():\n       task = asyncio.ensure_future(my_coroutine())\n       await asyncio.sleep(2)\n       print(task.result())\n\n   asyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">my_coroutine<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Coroutine completed<\/span><span style=\"color: #E9F284\">&quot;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       task <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> asyncio.ensure_future(my_coroutine())<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">2<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(task.result())<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">&#36825;&#20010;&#20989;&#25968;&#23558;&#21327;&#31243;&#23545;&#35937;&#25110;&#21487;&#31561;&#24453;&#23545;&#35937;&#21253;&#35013;&#25104;&#20219;&#21153;&#23545;&#35937;&#65292;&#24182;&#28155;&#21152;&#21040;&#20107;&#20214;&#24490;&#29615;&#20013;&#12290;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;<code>my_coroutine()<\/code>&#26159;&#19968;&#20010;&#21327;&#31243;&#20989;&#25968;&#65292;&#20351;&#29992;<code>asyncio.ensure_future()<\/code>&#21253;&#35013;&#25104;&#20219;&#21153;&#23545;&#35937;<code>task<\/code>&#65292;&#28982;&#21518;&#25105;&#20204;&#31561;&#24453;2&#31186;&#65292;&#21462;&#20986;&#20219;&#21153;&#30340;&#32467;&#26524;&#24182;&#25171;&#21360;&#12290;<\/p>\n\n\n<ol start=\"4\" style=\"\" class=\"wp-block-list \">\n<li><code>asyncio.gather(*coros_or_futs, loop=None, return_exceptions=False)<\/code><\/li>\n<\/ol>\n\n\n<ul style=\"\" class=\"wp-block-list \">\n<li>\n<code>*coros_or_futs<\/code>: &#35201;&#24182;&#34892;&#36816;&#34892;&#30340;&#21327;&#31243;&#23545;&#35937;&#25110;&#20219;&#21153;&#23545;&#35937;&#12290;<\/li>\n\n\n\n<li>\n<code>loop<\/code>(&#21487;&#36873;): &#35201;&#20351;&#29992;&#30340;&#20107;&#20214;&#24490;&#29615;&#12290;<\/li>\n\n\n\n<li>\n<code>return_exceptions<\/code>(&#21487;&#36873;): &#25511;&#21046;&#26159;&#21542;&#36820;&#22238;&#24322;&#24120;&#23545;&#35937;&#65292;&#40664;&#35748;&#20026;False&#12290;<\/li>\n<\/ul>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"   import asyncio\n\n   async def coroutine_1():\n       await asyncio.sleep(2)\n       return &quot;Coroutine 1&quot;\n\n   async def coroutine_2():\n       await asyncio.sleep(1)\n       raise ValueError(&quot;Coroutine 2 error&quot;)\n\n   async def main():\n       results = await asyncio.gather(coroutine_1(), coroutine_2(), return_exceptions=True)\n       # \u7b49\u5f85\u6240\u6709\u4efb\u52a1\u6267\u884c\u5b8c\u6210\u4e00\u8d77\u8fd4\u56de\u8fd4\u56de\u503c\n       print(results)\n\n   asyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">coroutine_1<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">2<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Coroutine 1<\/span><span style=\"color: #E9F284\">&quot;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">coroutine_2<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">raise<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #8BE9FD; font-style: italic\">ValueError<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Coroutine 2 error<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       results <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.gather(coroutine_1(), coroutine_2(), <\/span><span style=\"color: #FFB86C; font-style: italic\">return_exceptions<\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #BD93F9\">True<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #6272A4\"># \u7b49\u5f85\u6240\u6709\u4efb\u52a1\u6267\u884c\u5b8c\u6210\u4e00\u8d77\u8fd4\u56de\u8fd4\u56de\u503c<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(results)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">&#36825;&#20010;&#20989;&#25968;&#29992;&#26469;&#24182;&#34892;&#36816;&#34892;&#22810;&#20010;&#21327;&#31243;&#25110;&#20219;&#21153;&#65292;&#24182;&#31561;&#24453;&#23427;&#20204;&#20840;&#37096;&#23436;&#25104;&#12290;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;<code>coroutine_1()<\/code>&#21644;<code>coroutine_2()<\/code>&#26159;&#20004;&#20010;&#21327;&#31243;&#20989;&#25968;&#65292;&#20351;&#29992;<code>asyncio.gather()<\/code>&#23558;&#23427;&#20204;&#24182;&#34892;&#36816;&#34892;&#12290;<code>return_exceptions=True<\/code>&#34920;&#31034;&#21363;&#20351;&#20854;&#20013;&#19968;&#20010;&#21327;&#31243;&#20986;&#29616;&#24322;&#24120;&#65292;&#20063;&#20250;&#36820;&#22238;&#23545;&#24212;&#30340;&#24322;&#24120;&#23545;&#35937;&#12290;<\/p>\n\n\n<ol start=\"5\" style=\"\" class=\"wp-block-list \">\n<li><code>asyncio.wait(aws, *, loop=None, timeout=None, return_when=asyncio.ALL_COMPLETED)<\/code><\/li>\n<\/ol>\n\n\n<ul style=\"\" class=\"wp-block-list \">\n<li>\n<code>aws<\/code>: &#19968;&#20010;&#21487;&#36845;&#20195;&#30340;&#21327;&#31243;&#23545;&#35937;&#25110;&#20219;&#21153;&#23545;&#35937;&#12290;<\/li>\n\n\n\n<li>\n<code>loop<\/code>(&#21487;&#36873;): &#35201;&#20351;&#29992;&#30340;&#20107;&#20214;&#24490;&#29615;&#12290;<\/li>\n\n\n\n<li>\n<code>timeout<\/code>(&#21487;&#36873;): &#36229;&#26102;&#26102;&#38388;&#12290;<\/li>\n\n\n\n<li>\n<code>return_when<\/code>(&#21487;&#36873;): &#25511;&#21046;&#36820;&#22238;&#26465;&#20214;&#65292;&#40664;&#35748;&#20026;<code>asyncio.ALL_COMPLETED<\/code>&#12290;<\/li>\n<\/ul>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"   import asyncio\n\n   async def coroutine_1():\n       await asyncio.sleep(2)\n       return &quot;Coroutine 1&quot;\n\n   async def coroutine_2():\n       await asyncio.sleep(1)\n       return &quot;Coroutine 2&quot;\n\n   async def main():\n       tasks = [coroutine_1(), coroutine_2()]\n       done, pending = await asyncio.wait(tasks, timeout=3)\n       #pending\uff08\u5143\u7ec4\uff09\u672a\u5b8c\u6210\u4e86\u548c\u6b63\u5728\u6267\u884c\u7684\u4efb\u52a1\n       for task in done:\n           print(task.result())\n\n   asyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">coroutine_1<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">2<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Coroutine 1<\/span><span style=\"color: #E9F284\">&quot;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">coroutine_2<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Coroutine 2<\/span><span style=\"color: #E9F284\">&quot;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       tasks <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> [coroutine_1(), coroutine_2()]<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       done, pending <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.wait(tasks, <\/span><span style=\"color: #FFB86C; font-style: italic\">timeout<\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #BD93F9\">3<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #6272A4\">#pending\uff08\u5143\u7ec4\uff09\u672a\u5b8c\u6210\u4e86\u548c\u6b63\u5728\u6267\u884c\u7684\u4efb\u52a1<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">for<\/span><span style=\"color: #F8F8F2\"> task <\/span><span style=\"color: #FF79C6\">in<\/span><span style=\"color: #F8F8F2\"> done:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">           <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(task.result())<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">&#36825;&#20010;&#20989;&#25968;&#29992;&#26469;&#24182;&#34892;&#36816;&#34892;&#22810;&#20010;&#21327;&#31243;&#25110;&#20219;&#21153;&#65292;&#24182;&#31561;&#24453;&#23427;&#20204;&#20013;&#30340;&#33267;&#23569;&#19968;&#20010;&#23436;&#25104;&#12290;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;<code>coroutine_1()<\/code>&#21644;<code>coroutine_2()<\/code>&#26159;&#20004;&#20010;&#21327;&#31243;&#20989;&#25968;&#65292;&#20351;&#29992;<code>asyncio.wait()<\/code>&#23558;&#23427;&#20204;&#24182;&#34892;&#36816;&#34892;&#65292;&#24182;&#35774;&#32622;&#20102;3&#31186;&#30340;&#36229;&#26102;&#26102;&#38388;&#12290;&#23436;&#25104;&#30340;&#20219;&#21153;&#23384;&#20648;&#22312;<code>done<\/code>&#38598;&#21512;&#20013;&#12290;<\/p>\n\n\n<ol start=\"6\" style=\"\" class=\"wp-block-list \">\n<li><code>asyncio.sleep(delay, result=None, *, loop=None)<\/code><\/li>\n<\/ol>\n\n\n<ul style=\"\" class=\"wp-block-list \">\n<li>\n<code>delay<\/code>: &#24310;&#36831;&#30340;&#31186;&#25968;&#65292;&#21487;&#20197;&#26159;&#25972;&#25968;&#25110;&#28014;&#28857;&#25968;&#12290;<\/li>\n\n\n\n<li>\n<code>result<\/code>(&#21487;&#36873;): &#21487;&#20197;&#20316;&#20026;&#27492;&#21327;&#31243;&#30340;&#36820;&#22238;&#20540;&#65292;&#40664;&#35748;&#20026;None&#12290;<\/li>\n\n\n\n<li>\n<code>loop<\/code>(&#21487;&#36873;): &#35201;&#20351;&#29992;&#30340;&#20107;&#20214;&#24490;&#29615;&#12290;<\/li>\n<\/ul>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"   import asyncio\n\n   async def main():\n       print(&quot;Before sleep&quot;)\n       await asyncio.sleep(1)\n       print(&quot;After sleep&quot;)\n\n   asyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Before sleep<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">After sleep<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">&#27492;&#20989;&#25968;&#29992;&#20110;&#24310;&#36831;&#25351;&#23450;&#30340;&#26102;&#38388;&#65292;&#20351;&#21327;&#31243;&#26242;&#20572;&#25191;&#34892;&#12290;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#20351;&#29992;<code>asyncio.sleep()<\/code>&#23558;&#25191;&#34892;&#26242;&#20572;1&#31186;&#12290;<\/p>\n\n\n<ol start=\"7\" style=\"\" class=\"wp-block-list \">\n<li><code>asyncio.create_task(coro, *, name=None)<\/code><\/li>\n<\/ol>\n\n\n<ul style=\"\" class=\"wp-block-list \">\n<li>\n<code>coro<\/code>: &#35201;&#23553;&#35013;&#25104;&#20219;&#21153;&#30340;&#21327;&#31243;&#23545;&#35937;&#12290;<\/li>\n\n\n\n<li>\n<code>name<\/code> (&#21487;&#36873;): &#20219;&#21153;&#30340;&#21517;&#31216;&#12290;<\/li>\n<\/ul>\n\n\n\n<pre class=\"wp-block-code\"><code>   import asyncio\n\n   async def my_coroutine():\n       await asyncio.sleep(1)\n       print(\"Coroutine executed\")\n\n   async def main():\n       task = asyncio.create_task(my_coroutine())\n       await task\n\n   asyncio.run(main())<\/code><\/pre>\n\n\n<p class=\"wp-block-paragraph \">&#27492;&#20989;&#25968;&#29992;&#20110;&#23558;&#21327;&#31243;&#23545;&#35937;&#23553;&#35013;&#25104;&#19968;&#20010;&#20219;&#21153;&#65292;&#20197;&#20415;&#21487;&#20197;&#22312;&#20107;&#20214;&#24490;&#29615;&#20013;&#24182;&#21457;&#36816;&#34892;&#12290;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#20351;&#29992;<code>asyncio.create_task()<\/code>&#21019;&#24314;&#20102;&#19968;&#20010;&#20219;&#21153;&#65292;&#28982;&#21518;&#31561;&#24453;&#20219;&#21153;&#23436;&#25104;&#12290;<\/p>\n\n\n<ol start=\"8\" style=\"\" class=\"wp-block-list \">\n<li><code>asyncio.wait_for(aw, timeout, *, loop=None)<\/code><\/li>\n<\/ol>\n\n\n<ul style=\"\" class=\"wp-block-list \">\n<li>\n<code>aw<\/code>: &#35201;&#31561;&#24453;&#30340;&#21487;&#31561;&#24453;&#23545;&#35937;&#65292;&#36890;&#24120;&#26159;&#21327;&#31243;&#25110;&#20219;&#21153;&#12290;<\/li>\n\n\n\n<li>\n<code>timeout<\/code>: &#31561;&#24453;&#30340;&#26368;&#38271;&#26102;&#38388;&#65292;&#21487;&#20197;&#26159;&#25972;&#25968;&#25110;&#28014;&#28857;&#25968;&#12290;<\/li>\n\n\n\n<li>\n<code>loop<\/code>(&#21487;&#36873;): &#35201;&#20351;&#29992;&#30340;&#20107;&#20214;&#24490;&#29615;&#12290;<\/li>\n<\/ul>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"   import asyncio\n\n   async def my_coroutine():\n       await asyncio.sleep(2)\n       return &quot;Coroutine completed&quot;\n\n   async def main():\n       try:\n           result = await asyncio.wait_for(my_coroutine(), timeout=1)\n           print(result)\n       except asyncio.TimeoutError:\n           print(&quot;Timeout!&quot;)\n\n   asyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">my_coroutine<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">2<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Coroutine completed<\/span><span style=\"color: #E9F284\">&quot;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">try<\/span><span style=\"color: #F8F8F2\">:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">           result <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.wait_for(my_coroutine(), <\/span><span style=\"color: #FFB86C; font-style: italic\">timeout<\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">           <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(result)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">       <\/span><span style=\"color: #FF79C6\">except<\/span><span style=\"color: #F8F8F2\"> asyncio.TimeoutError:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">           <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Timeout!<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">   asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">&#27492;&#20989;&#25968;&#29992;&#20110;&#31561;&#24453;&#19968;&#20010;&#21487;&#31561;&#24453;&#23545;&#35937;&#65292;&#30452;&#21040;&#23427;&#23436;&#25104;&#25110;&#36798;&#21040;&#36229;&#26102;&#26102;&#38388;&#12290;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#20351;&#29992;<code>asyncio.wait_for()<\/code>&#31561;&#24453;<code>my_coroutine()<\/code>&#25191;&#34892;&#65292;&#24182;&#35774;&#32622;&#36229;&#26102;&#26102;&#38388;&#20026;1&#31186;&#12290;&#22914;&#26524;&#36229;&#26102;&#65292;&#21017;&#20250;&#24341;&#21457;<code>asyncio.TimeoutError<\/code>&#24322;&#24120;&#12290;<\/p>\n\n\n<h5 class=\"wp-block-heading wp-block-heading\" id=\"python3-6e4b98be5908e\">python3.6&#20043;&#21518;<\/h5>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"import asyncio\n\n\nasync def func(name, address):\n    print('other\u4efb\u52a1\u6b63\u5728\u88ab\u6267\u884c')  # \u4ee3\u7801\u9884\u5904\u7406\uff0c\u9047\u5230await\u505c\u6b62\n    await asyncio.sleep(1)\n    print('other\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5')\n    return f'{name},{address}'\n\n\nasync def main(loop=None):\n    task_1 = asyncio.create_task(func('wzx', 'shantou'))\n    task_2 = asyncio.create_task(func('csy', 'shantou'))\n\n    result1 = await task_1 # \u7ed9loop\u63d0\u4ea4\u534f\u7a0b\u5bf9\u8c61(\u6216\u8005task future)\uff0c\u963b\u585e\u7b49\u5f85\u8fd4\u56de\u503c\n    result2 = await task_2\n\n    print(result1, result2)\n\n\nasyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">func<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FFB86C; font-style: italic\">name<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">address<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">other\u4efb\u52a1\u6b63\u5728\u88ab\u6267\u884c<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">)  <\/span><span style=\"color: #6272A4\"># \u4ee3\u7801\u9884\u5904\u7406\uff0c\u9047\u5230await\u505c\u6b62<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">other\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">f<\/span><span style=\"color: #F1FA8C\">&#39;<\/span><span style=\"color: #BD93F9\">{<\/span><span style=\"color: #F8F8F2\">name<\/span><span style=\"color: #BD93F9\">}<\/span><span style=\"color: #F1FA8C\">,<\/span><span style=\"color: #BD93F9\">{<\/span><span style=\"color: #F8F8F2\">address<\/span><span style=\"color: #BD93F9\">}<\/span><span style=\"color: #F1FA8C\">&#39;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FFB86C; font-style: italic\">loop<\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #BD93F9\">None<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    task_1 <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> asyncio.create_task(func(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">wzx<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">shantou<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">))<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    task_2 <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> asyncio.create_task(func(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">csy<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">shantou<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">))<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    result1 <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> task_1 <\/span><span style=\"color: #6272A4\"># \u7ed9loop\u63d0\u4ea4\u534f\u7a0b\u5bf9\u8c61(\u6216\u8005task future)\uff0c\u963b\u585e\u7b49\u5f85\u8fd4\u56de\u503c<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    result2 <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> task_2<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(result1, result2)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<h5 class=\"wp-block-heading wp-block-heading\" id=\"python3-6e4bba5e58f8ae4b98be5898d\">python3.6&#20197;&#21450;&#20043;&#21069;<\/h5>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"import asyncio\n\n\nasync def func(name, address):\n    print('other\u4efb\u52a1\u6b63\u5728\u88ab\u6267\u884c')\n    await asyncio.sleep(1)\n    print('other\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5')\n    return f'{name},{address}'\n\n\nasync def main(loop=None):\n    task_1 = loop.create_task(func('wzx', 'shantou'))\n    task_2 = loop.create_task(func('csy', 'shantou'))\n\n    result1 = await task_1\n    result2 = await task_2\n\n    print(result1, result2)\n\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(main(loop))\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">func<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FFB86C; font-style: italic\">name<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">address<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">other\u4efb\u52a1\u6b63\u5728\u88ab\u6267\u884c<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">other\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">f<\/span><span style=\"color: #F1FA8C\">&#39;<\/span><span style=\"color: #BD93F9\">{<\/span><span style=\"color: #F8F8F2\">name<\/span><span style=\"color: #BD93F9\">}<\/span><span style=\"color: #F1FA8C\">,<\/span><span style=\"color: #BD93F9\">{<\/span><span style=\"color: #F8F8F2\">address<\/span><span style=\"color: #BD93F9\">}<\/span><span style=\"color: #F1FA8C\">&#39;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FFB86C; font-style: italic\">loop<\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #BD93F9\">None<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    task_1 <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> loop.create_task(func(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">wzx<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">shantou<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">))<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    task_2 <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> loop.create_task(func(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">csy<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">shantou<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">))<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    result1 <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> task_1<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    result2 <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> task_2<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(result1, result2)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">loop <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> asyncio.get_event_loop()<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">loop.run_until_complete(main(loop))<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">result:<\/p>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"other\u4efb\u52a1\u6b63\u5728\u88ab\u6267\u884c\nother\u4efb\u52a1\u6b63\u5728\u88ab\u6267\u884c\nother\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\nother\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\nwzx,shantou csy,shantou\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">other\u4efb\u52a1\u6b63\u5728\u88ab\u6267\u884c<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">other\u4efb\u52a1\u6b63\u5728\u88ab\u6267\u884c<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">other\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">other\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">wzx,shantou csy,shantou<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Plaintext<\/span><\/div>\n\n\n<h5 class=\"wp-block-heading wp-block-heading\" id=\"e5a49ae4b8aae58d8fe7a88be4bbbbe58aa1\">&#22810;&#20010;&#21327;&#31243;&#20219;&#21153;<\/h5>\n\n\n<p class=\"wp-block-paragraph \">1.<\/p>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"import asyncio\n\n\n# \u5b9a\u4e49\u591a\u4e2a\u534f\u7a0b\u4efb\u52a1\nasync def my_coroutine1():\n    await asyncio.sleep(1)\n    return &quot;Coroutine 1&quot;\n\n\nasync def my_coroutine2():\n    await asyncio.sleep(2)\n    return &quot;Coroutine 2&quot;\n\n\nasync def main():\n    # \u4f7f\u7528ensure_future\u5c06\u591a\u4e2a\u534f\u7a0b\u5bf9\u8c61\u5305\u88c5\u6210\u4efb\u52a1\u5bf9\u8c61\u5e76\u5b58\u50a8\u5728\u5217\u8868\u4e2d\n    tasks = [\n        asyncio.ensure_future(my_coroutine1()),\n        asyncio.ensure_future(my_coroutine2())\n    ]\n\n    # \u5c06\u4efb\u52a1\u5217\u8868\u52a0\u5165\u4e8b\u4ef6\u5faa\u73af\u8fdb\u884c\u8c03\u5ea6\u548c\u6267\u884c\n    done, pending = await asyncio.wait(tasks)\n    for item in done:\n        print(item.result())\n\n\nasyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #6272A4\"># \u5b9a\u4e49\u591a\u4e2a\u534f\u7a0b\u4efb\u52a1<\/span><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">my_coroutine1<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Coroutine 1<\/span><span style=\"color: #E9F284\">&quot;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">my_coroutine2<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">2<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Coroutine 2<\/span><span style=\"color: #E9F284\">&quot;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #6272A4\"># \u4f7f\u7528ensure_future\u5c06\u591a\u4e2a\u534f\u7a0b\u5bf9\u8c61\u5305\u88c5\u6210\u4efb\u52a1\u5bf9\u8c61\u5e76\u5b58\u50a8\u5728\u5217\u8868\u4e2d<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    tasks <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> [<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        asyncio.ensure_future(my_coroutine1()),<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        asyncio.ensure_future(my_coroutine2())<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    ]<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #6272A4\"># \u5c06\u4efb\u52a1\u5217\u8868\u52a0\u5165\u4e8b\u4ef6\u5faa\u73af\u8fdb\u884c\u8c03\u5ea6\u548c\u6267\u884c<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    done, pending <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.wait(tasks)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">for<\/span><span style=\"color: #F8F8F2\"> item <\/span><span style=\"color: #FF79C6\">in<\/span><span style=\"color: #F8F8F2\"> done:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(item.result())<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">result&#65306;<\/p>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"Coroutine 1\nCoroutine 2\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">Coroutine 1<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">Coroutine 2<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Plaintext<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">2.<\/p>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"import asyncio\nimport requests\n\n\nasync def fetch_data(url):\n    # \u6a21\u62df\u7f51\u7edc\u8bf7\u6c42\u64cd\u4f5c\n    await asyncio.sleep(1)\n    response = requests.get(url=url).text\n    return &quot;Data from {}&quot;.format(response)\n\n\nasync def main():\n    urls = [&quot;https:\/\/www.baidu.com\/&quot;, &quot;https:\/\/www.sogou.com\/&quot;]\n    tasks = [fetch_data(url) for url in urls]\n    results = await asyncio.gather(*tasks)\n    print(results)\n\n\nasyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> requests<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">fetch_data<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FFB86C; font-style: italic\">url<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #6272A4\"># \u6a21\u62df\u7f51\u7edc\u8bf7\u6c42\u64cd\u4f5c<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    response <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> requests.get(<\/span><span style=\"color: #FFB86C; font-style: italic\">url<\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\">url).text<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">Data from <\/span><span style=\"color: #BD93F9\">{}<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">.format(response)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    urls <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> [<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">https:\/\/www.baidu.com\/<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F1FA8C\">https:\/\/www.sogou.com\/<\/span><span style=\"color: #E9F284\">&quot;<\/span><span style=\"color: #F8F8F2\">]<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    tasks <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> [fetch_data(url) <\/span><span style=\"color: #FF79C6\">for<\/span><span style=\"color: #F8F8F2\"> url <\/span><span style=\"color: #FF79C6\">in<\/span><span style=\"color: #F8F8F2\"> urls]<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    results <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.gather(<\/span><span style=\"color: #FF79C6\">*<\/span><span style=\"color: #F8F8F2\">tasks)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(results)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<h5 class=\"wp-block-heading wp-block-heading\" id=\"e5bc82e6ada5e8bfade4bba3e599a8\">&#24322;&#27493;&#36845;&#20195;&#22120;<\/h5>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"# \u5f02\u6b65\u8fed\u4ee3\u5668\nimport asyncio\n\n\nclass MyAsyncIter:\n    def __init__(self, count):\n        self.count = count\n\n    async def iter_num(self):\n        await asyncio.sleep(0.5)\n        self.count -= 1\n        if self.count == 0:\n            return None\n        return self.count\n\n    def __aiter__(self):\n        return self\n\n    async def __anext__(self):\n        value = await self.iter_num()\n        if value is None:\n            raise StopAsyncIteration\n        return value\n\n\nasync def process_number(number):\n    print(f&quot;Processing number: {number}&quot;)\n    await asyncio.sleep(1)\n    print(f&quot;Done processing number: {number}&quot;)\n\n\nasync def main():\n    async for number in MyAsyncIter(5):\n        asyncio.create_task(process_number(number))\n\n\nasyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6272A4\"># \u5f02\u6b65\u8fed\u4ee3\u5668<\/span><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">class<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #8BE9FD\">MyAsyncIter<\/span><span style=\"color: #F8F8F2\">:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">__init__<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">count<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">.count <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> count<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">iter_num<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">0.5<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">.count <\/span><span style=\"color: #FF79C6\">-=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">1<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #FF79C6\">if<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">.count <\/span><span style=\"color: #FF79C6\">==<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">0<\/span><span style=\"color: #F8F8F2\">:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">            <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">None<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">.count<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">__aiter__<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">__anext__<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        value <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">.iter_num()<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #FF79C6\">if<\/span><span style=\"color: #F8F8F2\"> value <\/span><span style=\"color: #FF79C6\">is<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">None<\/span><span style=\"color: #F8F8F2\">:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">            <\/span><span style=\"color: #FF79C6\">raise<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #8BE9FD; font-style: italic\">StopAsyncIteration<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> value<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">process_number<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FFB86C; font-style: italic\">number<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FF79C6\">f<\/span><span style=\"color: #F1FA8C\">&quot;Processing number: <\/span><span style=\"color: #BD93F9\">{<\/span><span style=\"color: #F8F8F2\">number<\/span><span style=\"color: #BD93F9\">}<\/span><span style=\"color: #F1FA8C\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FF79C6\">f<\/span><span style=\"color: #F1FA8C\">&quot;Done processing number: <\/span><span style=\"color: #BD93F9\">{<\/span><span style=\"color: #F8F8F2\">number<\/span><span style=\"color: #BD93F9\">}<\/span><span style=\"color: #F1FA8C\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">for<\/span><span style=\"color: #F8F8F2\"> number <\/span><span style=\"color: #FF79C6\">in<\/span><span style=\"color: #F8F8F2\"> MyAsyncIter(<\/span><span style=\"color: #BD93F9\">5<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        asyncio.create_task(process_number(number))<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">result&#65306;<\/p>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"Processing number: 4\nProcessing number: 3\nDone processing number: 4\nProcessing number: 2\nDone processing number: 3\nProcessing number: 1\nDone processing number: 2\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">Processing number: 4<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">Processing number: 3<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">Done processing number: 4<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">Processing number: 2<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">Done processing number: 3<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">Processing number: 1<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">Done processing number: 2<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Plaintext<\/span><\/div>\n\n\n<h5 class=\"wp-block-heading wp-block-heading\" id=\"e59b9ee8b083e587bde695b0\">&#22238;&#35843;&#20989;&#25968;<\/h5>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"from flask import Flask, request\n\napp = Flask(__name__)\n\n@app.route('\/')\ndef index():\n    return 'Hello, World!'\n\n@app.route('\/callback-example', methods=['POST'])\ndef callback_example():\n    data = request.json\n    process_data(data, callback_function)\n    return 'Callback example endpoint'\n\ndef process_data(data, callback):\n    # \u5904\u7406\u6570\u636e\u7684\u903b\u8f91\n    # ...\n    # \u5904\u7406\u5b8c\u6570\u636e\u540e\u8c03\u7528\u56de\u8c03\u51fd\u6570\n    callback(data)\n\ndef callback_function(data):\n    # \u5904\u7406\u56de\u8c03\u6570\u636e\u7684\u903b\u8f91\n    print(f&quot;Callback function received data: {data}&quot;)\n\nif __name__ == '__main__':\n    app.run()\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FF79C6\">from<\/span><span style=\"color: #F8F8F2\"> flask <\/span><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> Flask, request<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">app <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> Flask(<\/span><span style=\"color: #BD93F9\">__name__<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #50FA7B\">@app.route<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">\/<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">index<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">Hello, World!<\/span><span style=\"color: #E9F284\">&#39;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #50FA7B\">@app.route<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">\/callback-example<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">methods<\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\">[<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">POST<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">])<\/span><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">callback_example<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    data <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> request.json<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    process_data(data, callback_function)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">Callback example endpoint<\/span><span style=\"color: #E9F284\">&#39;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">process_data<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FFB86C; font-style: italic\">data<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">callback<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #6272A4\"># \u5904\u7406\u6570\u636e\u7684\u903b\u8f91<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #6272A4\"># ...<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #6272A4\"># \u5904\u7406\u5b8c\u6570\u636e\u540e\u8c03\u7528\u56de\u8c03\u51fd\u6570<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    callback(data)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">callback_function<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FFB86C; font-style: italic\">data<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #6272A4\"># \u5904\u7406\u56de\u8c03\u6570\u636e\u7684\u903b\u8f91<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #FF79C6\">f<\/span><span style=\"color: #F1FA8C\">&quot;Callback function received data: <\/span><span style=\"color: #BD93F9\">{<\/span><span style=\"color: #F8F8F2\">data<\/span><span style=\"color: #BD93F9\">}<\/span><span style=\"color: #F1FA8C\">&quot;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">if<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">__name__<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">==<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">__main__<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    app.run()<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">&#22312;&#36825;&#20010;&#31034;&#20363;&#20013;&#65292;&#25105;&#20204;&#20351;&#29992;Flask&#21019;&#24314;&#20102;&#19968;&#20010;&#31616;&#21333;&#30340;Web&#24212;&#29992;&#12290;&#24403;&#35775;&#38382;&#26681;&#36335;&#24452;<code>'\/'<\/code>&#26102;&#65292;&#20250;&#36820;&#22238;&#19968;&#20010;&#31616;&#21333;&#30340;&#8221;Hello, World!&#8221;&#28040;&#24687;&#12290;<\/p>\n\n\n<p class=\"wp-block-paragraph \">&#25105;&#20204;&#36824;&#23450;&#20041;&#20102;&#19968;&#20010;<code>'\/callback-example'<\/code>&#30340;&#36335;&#30001;&#65292;&#29992;&#20110;&#27169;&#25311;&#22788;&#29702;&#22238;&#35843;&#20989;&#25968;&#30340;&#20363;&#23376;&#12290;&#24403;&#25910;&#21040;POST&#35831;&#27714;&#26102;&#65292;&#25105;&#20204;&#35843;&#29992;<code>process_data<\/code>&#20989;&#25968;&#22788;&#29702;&#25968;&#25454;&#65292;&#24182;&#20256;&#36882;&#19968;&#20010;&#22238;&#35843;&#20989;&#25968;<code>callback_function<\/code>&#12290;<\/p>\n\n\n<p class=\"wp-block-paragraph \"><code>process_data<\/code>&#20989;&#25968;&#36127;&#36131;&#22788;&#29702;&#25968;&#25454;&#30340;&#36923;&#36753;&#65292;&#28982;&#21518;&#35843;&#29992;&#22238;&#35843;&#20989;&#25968;&#26469;&#22788;&#29702;&#22788;&#29702;&#21518;&#30340;&#25968;&#25454;&#12290;&#22312;&#26412;&#20363;&#20013;&#65292;&#25105;&#20204;&#31616;&#21333;&#22320;&#25171;&#21360;&#20986;&#22238;&#35843;&#20989;&#25968;&#25509;&#25910;&#21040;&#30340;&#25968;&#25454;&#12290;<\/p>\n\n\n<p class=\"wp-block-paragraph \">&#26368;&#21518;&#65292;&#25105;&#20204;&#21551;&#21160;Flask&#24212;&#29992;&#12290;&#24403;&#35775;&#38382;<code>'\/callback-example'<\/code>&#31471;&#28857;&#19988;&#21457;&#36865;POST&#35831;&#27714;&#26102;&#65292;&#20250;&#35302;&#21457;&#25968;&#25454;&#22788;&#29702;&#21644;&#22238;&#35843;&#20989;&#25968;&#30340;&#35843;&#29992;&#12290;<\/p>\n\n\n<p class=\"wp-block-paragraph \">&#24403;&#20320;&#36816;&#34892;&#36825;&#20010;&#31034;&#20363;&#24212;&#29992;&#24182;&#21457;&#36865;POST&#35831;&#27714;&#21040;<code>'\/callback-example'<\/code>&#26102;&#65292;&#20320;&#20250;&#30475;&#21040;&#22238;&#35843;&#20989;&#25968;&#34987;&#35843;&#29992;&#24182;&#25171;&#21360;&#20986;&#25968;&#25454;&#12290;&#36825;&#23637;&#31034;&#20102;&#22238;&#35843;&#20989;&#25968;&#22312;Web&#24320;&#21457;&#20013;&#22788;&#29702;&#20107;&#20214;&#22238;&#35843;&#30340;&#24212;&#29992;&#12290;<\/p>\n\n\n<h5 class=\"wp-block-heading wp-block-heading\" id=\"e5bc82e6ada5e4b88ae4b88be69687e7aea1e79086e599a8\">&#24322;&#27493;&#19978;&#19979;&#25991;&#31649;&#29702;&#22120;<\/h5>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"# \u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\nimport asyncio\n\n\nclass AsyncContextManager:\n    def __init__(self, conn=None):\n        self.conn = conn\n\n    async def get_data(self):\n        return '\u6a21\u62df\u6570\u636e\u5e93\u589e\u5220\u67e5\u6539...'\n\n    async def __aenter__(self):\n        # \u8fdb\u5165\u4e0a\u4e0b\u6587\u65f6\u6267\u884c\u7684\u903b\u8f91\n        self.conn = await asyncio.sleep(1, result='\u8fde\u63a5\u6210\u529f...')\n        print(self.conn)\n        return self\n\n    async def __aexit__(self, exc_type, exc_val, exc_tb):\n        # \u9000\u51fa\u4e0a\u4e0b\u6587\u65f6\u6267\u884c\u7684\u903b\u8f91\n        print('\u5173\u95ed\u6570\u636e\u5e93...')\n\n\nasync def async_example():\n    async with AsyncContextManager() as fp:\n        # \u5728\u4e0a\u4e0b\u6587\u4e2d\u6267\u884c\u5f02\u6b65\u64cd\u4f5c\n        result = await fp.get_data()\n        print(result)\n\n\nasync def main():\n    await async_example()\n\n\nif __name__ == '__main__':\n    asyncio.run(main())\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #6272A4\"># \u5f02\u6b65\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668<\/span><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">import<\/span><span style=\"color: #F8F8F2\"> asyncio<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">class<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #8BE9FD\">AsyncContextManager<\/span><span style=\"color: #F8F8F2\">:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">__init__<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">conn<\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #BD93F9\">None<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">.conn <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> conn<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">get_data<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">\u6a21\u62df\u6570\u636e\u5e93\u589e\u5220\u67e5\u6539...<\/span><span style=\"color: #E9F284\">&#39;<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">__aenter__<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #6272A4\"># \u8fdb\u5165\u4e0a\u4e0b\u6587\u65f6\u6267\u884c\u7684\u903b\u8f91<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">.conn <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> asyncio.sleep(<\/span><span style=\"color: #BD93F9\">1<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">result<\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">\u8fde\u63a5\u6210\u529f...<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">.conn)<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #FF79C6\">return<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">__aexit__<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #BD93F9; font-style: italic\">self<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">exc_type<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">exc_val<\/span><span style=\"color: #F8F8F2\">, <\/span><span style=\"color: #FFB86C; font-style: italic\">exc_tb<\/span><span style=\"color: #F8F8F2\">):<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #6272A4\"># \u9000\u51fa\u4e0a\u4e0b\u6587\u65f6\u6267\u884c\u7684\u903b\u8f91<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">\u5173\u95ed\u6570\u636e\u5e93...<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">async_example<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">with<\/span><span style=\"color: #F8F8F2\"> AsyncContextManager() <\/span><span style=\"color: #FF79C6\">as<\/span><span style=\"color: #F8F8F2\"> fp:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #6272A4\"># \u5728\u4e0a\u4e0b\u6587\u4e2d\u6267\u884c\u5f02\u6b65\u64cd\u4f5c<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        result <\/span><span style=\"color: #FF79C6\">=<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> fp.get_data()<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        <\/span><span style=\"color: #8BE9FD\">print<\/span><span style=\"color: #F8F8F2\">(result)<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">async<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">def<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #50FA7B\">main<\/span><span style=\"color: #F8F8F2\">():<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    <\/span><span style=\"color: #FF79C6\">await<\/span><span style=\"color: #F8F8F2\"> async_example()<\/span><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><\/span>\n<span class=\"line\"><span style=\"color: #FF79C6\">if<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #BD93F9\">__name__<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #FF79C6\">==<\/span><span style=\"color: #F8F8F2\"> <\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F1FA8C\">__main__<\/span><span style=\"color: #E9F284\">&#39;<\/span><span style=\"color: #F8F8F2\">:<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    asyncio.run(main())<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Python<\/span><\/div>\n\n\n<p class=\"wp-block-paragraph \">result:<\/p>\n\n\n\n<div class=\"wp-block-kevinbatdorf-code-block-pro padding-bottom-disabled\" data-code-block-pro-font-family=\"Code-Pro-JetBrains-Mono\" style=\"font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem\"><span style=\"display:block;padding:16px 0 0 16px;margin-bottom:-1px;width:100%;text-align:left;background-color:#282A36\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" width=\"54\" height=\"14\" viewBox=\"0 0 54 14\"><g fill=\"none\" fill-rule=\"evenodd\" transform=\"translate(1 1)\"><circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"#FF5F56\" stroke=\"#E0443E\" stroke-width=\".5\"><\/circle><circle cx=\"26\" cy=\"6\" r=\"6\" fill=\"#FFBD2E\" stroke=\"#DEA123\" stroke-width=\".5\"><\/circle><circle cx=\"46\" cy=\"6\" r=\"6\" fill=\"#27C93F\" stroke=\"#1AAB29\" stroke-width=\".5\"><\/circle><\/g><\/svg><\/span><span role=\"button\" tabindex=\"0\" data-code=\"\u8fde\u63a5\u6210\u529f...\n\u6a21\u62df\u6570\u636e\u5e93\u589e\u5220\u67e5\u6539...\n\u5173\u95ed\u6570\u636e\u5e93...\" style=\"color:#F8F8F2;display:none\" aria-label=\"Copy\" class=\"code-block-pro-copy-button\"><svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" style=\"width:24px;height:24px\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path class=\"with-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\"><\/path><path class=\"without-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6\"><\/path><\/svg><\/span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">\u8fde\u63a5\u6210\u529f...<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">\u6a21\u62df\u6570\u636e\u5e93\u589e\u5220\u67e5\u6539...<\/span><\/span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">\u5173\u95ed\u6570\u636e\u5e93...<\/span><\/span><\/code><\/pre><span style=\"display:flex;align-items:flex-end;padding:10px;width:100%;justify-content:flex-end;background-color:#282A36;color:#efefe1;font-size:12px;line-height:1;position:relative\">Plaintext<\/span><\/div>\n","protected":false},"excerpt":{"rendered":"<p>asyncio&#30340;&#21407;&#29702;&#26159;&#22522;&#20110; &hellip;<\/p>\n","protected":false},"author":4,"featured_media":435,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[8,10],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v20.12 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Python\u5b9e\u8df5\uff1aasyncio - SZUEA<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.szuea.com\/2023\/08\/02\/python\u5b9e\u8df5\uff1aasyncio\/\" \/>\n<meta property=\"og:locale\" content=\"zh_CN\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Python\u5b9e\u8df5\uff1aasyncio - SZUEA\" \/>\n<meta property=\"og:description\" content=\"asyncio&#30340;&#21407;&#29702;&#26159;&#22522;&#20110; &hellip;\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.szuea.com\/2023\/08\/02\/python\u5b9e\u8df5\uff1aasyncio\/\" \/>\n<meta property=\"og:site_name\" content=\"SZUEA\" \/>\n<meta property=\"article:published_time\" content=\"2023-08-02T07:25:55+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2023-08-02T07:25:59+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/www.szuea.com\/wp-content\/uploads\/2023\/08\/template.webp\" \/>\n\t<meta property=\"og:image:width\" content=\"1280\" \/>\n\t<meta property=\"og:image:height\" content=\"720\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/webp\" \/>\n<meta name=\"author\" content=\"SZUEA\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"\u4f5c\u8005\" \/>\n\t<meta name=\"twitter:data1\" content=\"SZUEA\" \/>\n\t<meta name=\"twitter:label2\" content=\"\u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\" \/>\n\t<meta name=\"twitter:data2\" content=\"1\u5206\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Article\",\"@id\":\"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/\"},\"author\":{\"name\":\"SZUEA\",\"@id\":\"https:\/\/www.szuea.com\/#\/schema\/person\/f8ebbeab96e6d31341c42227322497cc\"},\"headline\":\"Python\u5b9e\u8df5\uff1aasyncio\",\"datePublished\":\"2023-08-02T07:25:55+00:00\",\"dateModified\":\"2023-08-02T07:25:59+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/\"},\"wordCount\":40,\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.szuea.com\/#organization\"},\"articleSection\":[\"Python\",\"\u5b9e\u8df5\u7cfb\u5217\u6559\u7a0b\"],\"inLanguage\":\"zh-CN\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/#respond\"]}]},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/\",\"url\":\"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/\",\"name\":\"Python\u5b9e\u8df5\uff1aasyncio - SZUEA\",\"isPartOf\":{\"@id\":\"https:\/\/www.szuea.com\/#website\"},\"datePublished\":\"2023-08-02T07:25:55+00:00\",\"dateModified\":\"2023-08-02T07:25:59+00:00\",\"breadcrumb\":{\"@id\":\"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/#breadcrumb\"},\"inLanguage\":\"zh-CN\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"\u9996\u9875\",\"item\":\"https:\/\/www.szuea.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Python\u5b9e\u8df5\uff1aasyncio\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.szuea.com\/#website\",\"url\":\"https:\/\/www.szuea.com\/\",\"name\":\"SZUEA\",\"description\":\"\u6df1\u5733\u5927\u5b66\u7535\u5b50\u534f\u4f1a\",\"publisher\":{\"@id\":\"https:\/\/www.szuea.com\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/www.szuea.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"zh-CN\"},{\"@type\":\"Organization\",\"@id\":\"https:\/\/www.szuea.com\/#organization\",\"name\":\"\u6df1\u5733\u5927\u5b66\u7535\u5b50\u534f\u4f1a\",\"url\":\"https:\/\/www.szuea.com\/\",\"logo\":{\"@type\":\"ImageObject\",\"inLanguage\":\"zh-CN\",\"@id\":\"https:\/\/www.szuea.com\/#\/schema\/logo\/image\/\",\"url\":\"https:\/\/www.szuea.com\/wp-content\/uploads\/2023\/07\/cropped-Logo.jpg\",\"contentUrl\":\"https:\/\/www.szuea.com\/wp-content\/uploads\/2023\/07\/cropped-Logo.jpg\",\"width\":512,\"height\":512,\"caption\":\"\u6df1\u5733\u5927\u5b66\u7535\u5b50\u534f\u4f1a\"},\"image\":{\"@id\":\"https:\/\/www.szuea.com\/#\/schema\/logo\/image\/\"},\"sameAs\":[\"https:\/\/space.bilibili.com\/1618660019\"]},{\"@type\":\"Person\",\"@id\":\"https:\/\/www.szuea.com\/#\/schema\/person\/f8ebbeab96e6d31341c42227322497cc\",\"name\":\"SZUEA\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"zh-CN\",\"@id\":\"https:\/\/www.szuea.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/cec5b301ebb87632c1da657b6ed5fe56?s=96&d=mm&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/cec5b301ebb87632c1da657b6ed5fe56?s=96&d=mm&r=g\",\"caption\":\"SZUEA\"},\"sameAs\":[\"http:\/\/szuea.com\"],\"url\":\"https:\/\/www.szuea.com\/author\/szuea\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Python\u5b9e\u8df5\uff1aasyncio - SZUEA","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/www.szuea.com\/2023\/08\/02\/python\u5b9e\u8df5\uff1aasyncio\/","og_locale":"zh_CN","og_type":"article","og_title":"Python\u5b9e\u8df5\uff1aasyncio - SZUEA","og_description":"asyncio&#30340;&#21407;&#29702;&#26159;&#22522;&#20110; &hellip;","og_url":"https:\/\/www.szuea.com\/2023\/08\/02\/python\u5b9e\u8df5\uff1aasyncio\/","og_site_name":"SZUEA","article_published_time":"2023-08-02T07:25:55+00:00","article_modified_time":"2023-08-02T07:25:59+00:00","og_image":[{"width":1280,"height":720,"url":"https:\/\/www.szuea.com\/wp-content\/uploads\/2023\/08\/template.webp","type":"image\/webp"}],"author":"SZUEA","twitter_card":"summary_large_image","twitter_misc":{"\u4f5c\u8005":"SZUEA","\u9884\u8ba1\u9605\u8bfb\u65f6\u95f4":"1\u5206"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Article","@id":"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/#article","isPartOf":{"@id":"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/"},"author":{"name":"SZUEA","@id":"https:\/\/www.szuea.com\/#\/schema\/person\/f8ebbeab96e6d31341c42227322497cc"},"headline":"Python\u5b9e\u8df5\uff1aasyncio","datePublished":"2023-08-02T07:25:55+00:00","dateModified":"2023-08-02T07:25:59+00:00","mainEntityOfPage":{"@id":"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/"},"wordCount":40,"commentCount":0,"publisher":{"@id":"https:\/\/www.szuea.com\/#organization"},"articleSection":["Python","\u5b9e\u8df5\u7cfb\u5217\u6559\u7a0b"],"inLanguage":"zh-CN","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/#respond"]}]},{"@type":"WebPage","@id":"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/","url":"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/","name":"Python\u5b9e\u8df5\uff1aasyncio - SZUEA","isPartOf":{"@id":"https:\/\/www.szuea.com\/#website"},"datePublished":"2023-08-02T07:25:55+00:00","dateModified":"2023-08-02T07:25:59+00:00","breadcrumb":{"@id":"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/#breadcrumb"},"inLanguage":"zh-CN","potentialAction":[{"@type":"ReadAction","target":["https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/www.szuea.com\/2023\/08\/02\/python%e5%ae%9e%e8%b7%b5%ef%bc%9aasyncio\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"\u9996\u9875","item":"https:\/\/www.szuea.com\/"},{"@type":"ListItem","position":2,"name":"Python\u5b9e\u8df5\uff1aasyncio"}]},{"@type":"WebSite","@id":"https:\/\/www.szuea.com\/#website","url":"https:\/\/www.szuea.com\/","name":"SZUEA","description":"\u6df1\u5733\u5927\u5b66\u7535\u5b50\u534f\u4f1a","publisher":{"@id":"https:\/\/www.szuea.com\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/www.szuea.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"zh-CN"},{"@type":"Organization","@id":"https:\/\/www.szuea.com\/#organization","name":"\u6df1\u5733\u5927\u5b66\u7535\u5b50\u534f\u4f1a","url":"https:\/\/www.szuea.com\/","logo":{"@type":"ImageObject","inLanguage":"zh-CN","@id":"https:\/\/www.szuea.com\/#\/schema\/logo\/image\/","url":"https:\/\/www.szuea.com\/wp-content\/uploads\/2023\/07\/cropped-Logo.jpg","contentUrl":"https:\/\/www.szuea.com\/wp-content\/uploads\/2023\/07\/cropped-Logo.jpg","width":512,"height":512,"caption":"\u6df1\u5733\u5927\u5b66\u7535\u5b50\u534f\u4f1a"},"image":{"@id":"https:\/\/www.szuea.com\/#\/schema\/logo\/image\/"},"sameAs":["https:\/\/space.bilibili.com\/1618660019"]},{"@type":"Person","@id":"https:\/\/www.szuea.com\/#\/schema\/person\/f8ebbeab96e6d31341c42227322497cc","name":"SZUEA","image":{"@type":"ImageObject","inLanguage":"zh-CN","@id":"https:\/\/www.szuea.com\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/cec5b301ebb87632c1da657b6ed5fe56?s=96&d=mm&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/cec5b301ebb87632c1da657b6ed5fe56?s=96&d=mm&r=g","caption":"SZUEA"},"sameAs":["http:\/\/szuea.com"],"url":"https:\/\/www.szuea.com\/author\/szuea\/"}]}},"_links":{"self":[{"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/posts\/492"}],"collection":[{"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/users\/4"}],"replies":[{"embeddable":true,"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/comments?post=492"}],"version-history":[{"count":1,"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/posts\/492\/revisions"}],"predecessor-version":[{"id":493,"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/posts\/492\/revisions\/493"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/media\/435"}],"wp:attachment":[{"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/media?parent=492"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/categories?post=492"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.szuea.com\/wp-json\/wp\/v2\/tags?post=492"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}